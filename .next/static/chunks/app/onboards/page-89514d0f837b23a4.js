(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[303],{728:(e,r,t)=>{Promise.resolve().then(t.bind(t,7321))},2477:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(8081),s=t(2149),n=t(7687),c=t(4330);let i=(0,s.memo)(e=>{let{blur:r=0,inactiveZone:t=.7,proximity:i=0,spread:o=20,variant:d="default",glow:l=!1,className:m,movementDuration:u=2,borderWidth:x=1,disabled:f=!0}=e,h=(0,s.useRef)(null),p=(0,s.useRef)({x:0,y:0}),v=(0,s.useRef)(0),g=(0,s.useCallback)(e=>{h.current&&(v.current&&cancelAnimationFrame(v.current),v.current=requestAnimationFrame(()=>{var r,a;let s=h.current;if(!s)return;let{left:n,top:o,width:d,height:l}=s.getBoundingClientRect(),m=null!==(r=null==e?void 0:e.x)&&void 0!==r?r:p.current.x,x=null!==(a=null==e?void 0:e.y)&&void 0!==a?a:p.current.y;e&&(p.current={x:m,y:x});let f=[n+.5*d,o+.5*l];if(Math.hypot(m-f[0],x-f[1])<.5*Math.min(d,l)*t){s.style.setProperty("--active","0");return}let v=m>n-i&&m<n+d+i&&x>o-i&&x<o+l+i;if(s.style.setProperty("--active",v?"1":"0"),!v)return;let g=parseFloat(s.style.getPropertyValue("--start"))||0,b=(180*Math.atan2(x-f[1],m-f[0])/Math.PI+90-g+180)%360-180;(0,c.i)(g,g+b,{duration:u,ease:[.16,1,.3,1],onUpdate:e=>{s.style.setProperty("--start",String(e))}})}))},[t,i,u]);return(0,s.useEffect)(()=>{if(f)return;let e=()=>g(),r=e=>g(e);return window.addEventListener("scroll",e,{passive:!0}),document.body.addEventListener("pointermove",r,{passive:!0}),()=>{v.current&&cancelAnimationFrame(v.current),window.removeEventListener("scroll",e),document.body.removeEventListener("pointermove",r)}},[g,f]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:(0,n.cn)("pointer-events-none absolute -inset-px hidden rounded-[inherit] border opacity-0 transition-opacity",l&&"opacity-100","white"===d&&"border-white",f&&"!block")}),(0,a.jsx)("div",{ref:h,style:{"--blur":"".concat(r,"px"),"--spread":o,"--start":"0","--active":"0","--glowingeffect-border-width":"".concat(x,"px"),"--repeating-conic-gradient-times":"5","--gradient":"white"===d?"repeating-conic-gradient(\n                  from 236.84deg at 50% 50%,\n                  var(--black),\n                  var(--black) calc(25% / var(--repeating-conic-gradient-times))\n                )":"radial-gradient(circle, #dd7bbb 10%, #dd7bbb00 20%),\n                radial-gradient(circle at 40% 40%, #d79f1e 5%, #d79f1e00 15%),\n                radial-gradient(circle at 60% 60%, #5a922c 10%, #5a922c00 20%), \n                radial-gradient(circle at 40% 60%, #4c7894 10%, #4c789400 20%),\n                repeating-conic-gradient(\n                  from 236.84deg at 50% 50%,\n                  #dd7bbb 0%,\n                  #d79f1e calc(25% / var(--repeating-conic-gradient-times)),\n                  #5a922c calc(50% / var(--repeating-conic-gradient-times)), \n                  #4c7894 calc(75% / var(--repeating-conic-gradient-times)),\n                  #dd7bbb calc(100% / var(--repeating-conic-gradient-times))\n                )"},className:(0,n.cn)("pointer-events-none absolute inset-0 rounded-[inherit] opacity-100 transition-opacity",l&&"opacity-100",r>0&&"blur-[var(--blur)] ",m,f&&"!hidden"),children:(0,a.jsx)("div",{className:(0,n.cn)("glow","rounded-[inherit]",'after:content-[""] after:rounded-[inherit] after:absolute after:inset-[calc(-1*var(--glowingeffect-border-width))]',"after:[border:var(--glowingeffect-border-width)_solid_transparent]","after:[background:var(--gradient)] after:[background-attachment:fixed]","after:opacity-[var(--active)] after:transition-opacity after:duration-300","after:[mask-clip:padding-box,border-box]","after:[mask-composite:intersect]","after:[mask-image:linear-gradient(#0000,#0000),conic-gradient(from_calc((var(--start)-var(--spread))*1deg),#00000000_0deg,#fff,#00000000_calc(var(--spread)*2deg))]")})})]})});i.displayName="GlowingEffect"},7186:(e,r,t)=>{"use strict";t.d(r,{w:()=>f});var a=t(3345);let s=(0,a.createServerReference)("40ac42374f9a46a1df78a458f6f4e10e45e4698e5b",a.callServer,void 0,a.findSourceMapURL,"createCustomer"),n=(0,a.createServerReference)("00712e5c9e112a6647018f4f8b4ca2d66c7cb4112b",a.callServer,void 0,a.findSourceMapURL,"getAllCustomers"),c=(0,a.createServerReference)("409c19e64ec99ea8a4caf3e8cf8a69a1b7ddbda215",a.callServer,void 0,a.findSourceMapURL,"getCustomer"),i=(0,a.createServerReference)("409f18f97b054ceb3a1d7fa30a1ae158ab0d2e4189",a.callServer,void 0,a.findSourceMapURL,"getCustomerByPinId"),o=(0,a.createServerReference)("40b28159295fe987b57870d19b8e99b4c198fca5c8",a.callServer,void 0,a.findSourceMapURL,"updateCustomer"),d=(0,a.createServerReference)("40edfb554ffc2f4a054fdd4ca6498fd99b39071d21",a.callServer,void 0,a.findSourceMapURL,"deleteCustomer"),l=(0,a.createServerReference)("403bf1e5d088d6a04aed921b8bfc71258983d09842",a.callServer,void 0,a.findSourceMapURL,"deleteCustomerByPinId"),m=(0,a.createServerReference)("408f939bedfe9f3e39cd7c19621057299c9af63be4",a.callServer,void 0,a.findSourceMapURL,"saveCustomer"),u=(0,a.createServerReference)("4027d79fa448c59c031b694594791dffb266b2ed84",a.callServer,void 0,a.findSourceMapURL,"saveCustomerByPinId");class x{async createCustomer(e){try{return await s(e)}catch(e){throw console.error("Error creating customer:",e),e}}async getAllCustomers(){try{return await n()}catch(e){throw console.error("Error loading customers:",e),e}}async getCustomer(e){try{return await c(e)}catch(e){throw console.error("Error loading customer:",e),e}}async getCustomerByPinId(e){try{return await i(e)}catch(e){throw console.error("Error loading customer by pin ID:",e),e}}async updateCustomer(e){try{return await o(e)}catch(e){throw console.error("Error updating customer:",e),e}}async deleteCustomer(e){try{await d(e)}catch(e){throw console.error("Error deleting customer:",e),e}}async deleteCustomerByPinId(e){try{await l(e)}catch(e){throw console.error("Error deleting customer by pin ID:",e),e}}async saveCustomer(e){try{await m(e)}catch(e){throw console.error("Error saving customer:",e),e}}async saveOnboardData(e){try{let r=await t.e(935).then(t.bind(t,1935)),a=await r.getPin(e.pinId);if(!a)try{a=await r.createPin({id:e.pinId,lat:0,lng:0,address:e.address,placeId:"",propertyName:"",status:"new"}),console.log("Pin created in database for customer:",a)}catch(e){throw console.error("Failed to create pin in database:",e),Error("Unable to create pin reference for customer")}let s={id:"customer-".concat(Date.now()),pinId:e.pinId,firstName:e.firstName,phone:e.phone,email:e.email,ownsCrypto:e.ownsCrypto||!1,socials:e.socials,notes:e.notes,address:e.address,createdAt:e.timestamp||new Date,updatedAt:new Date};return await u(s)}catch(e){throw console.error("Error saving onboard data:",e),e}}}let f=new x},7321:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var a=t(8081),s=t(2149),n=t(6546),c=t(7156),i=t(3585),o=t(7326),d=t(2225),l=t(4548),m=t(4666);let u=(0,t(1018).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var x=t(5516),f=t(2477),h=t(7186);function p(){let[e,r]=(0,s.useState)([]),[t,c]=(0,s.useState)(!0),[i,o]=(0,s.useState)(null);return((0,s.useEffect)(()=>{(async function(){try{c(!0);let e=await h.w.getAllCustomers();r(e)}catch(e){console.error("Error loading customers:",e),o("Failed to load customers")}finally{c(!1)}})()},[]),t)?(0,a.jsxs)("div",{className:"container mx-auto p-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Customer Onboards"}),(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]}):i?(0,a.jsxs)("div",{className:"container mx-auto p-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Customer Onboards"}),(0,a.jsx)("div",{className:"text-center text-red-500",children:(0,a.jsx)("p",{children:i})})]}):0===e.length?(0,a.jsxs)("div",{className:"container mx-auto p-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Customer Onboards"}),(0,a.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,a.jsx)(n.A,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{className:"text-lg",children:"No customers found"}),(0,a.jsx)("p",{className:"text-sm",children:"Start by onboarding your first customer!"})]})]}):(0,a.jsxs)("div",{className:"container mx-auto p-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Customer Onboards"}),(0,a.jsx)("p",{className:"text-center text-muted-foreground mb-8",children:"Manage and view all your onboarded customers"}),(0,a.jsx)("ul",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(e=>(0,a.jsx)(v,{customer:e},e.id))})]})}let v=e=>{let r,{customer:t}=e;return(0,a.jsx)("li",{className:"min-h-[18rem] list-none",children:(0,a.jsxs)("div",{className:"relative h-full rounded-2xl border p-2 md:rounded-3xl md:p-3",children:[(0,a.jsx)(f.Z,{spread:40,glow:!0,disabled:!1,proximity:64,inactiveZone:.01}),(0,a.jsx)("div",{className:"border-0.75 relative flex h-full flex-col justify-between gap-4 overflow-hidden rounded-xl p-4 md:p-6 dark:shadow-[0px_0px_27px_0px_#2D2D2D]",children:(0,a.jsxs)("div",{className:"relative flex flex-1 flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"w-fit rounded-lg border border-gray-600 p-2",children:(e=>e.ownsCrypto?(0,a.jsx)(c.A,{className:"h-4 w-4 text-orange-500"}):e.email?(0,a.jsx)(i.A,{className:"h-4 w-4 text-blue-500"}):e.phone?(0,a.jsx)(o.A,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(n.A,{className:"h-4 w-4 text-gray-500"}))(t)}),(0,a.jsx)("div",{className:"flex gap-1",children:(e=>{var r,t,s;let n=[];return(null===(r=e.socials)||void 0===r?void 0:r.twitter)&&n.push((0,a.jsx)(d.A,{className:"h-3 w-3 text-blue-400",title:"Twitter"},"twitter")),(null===(t=e.socials)||void 0===t?void 0:t.telegram)&&n.push((0,a.jsx)(l.A,{className:"h-3 w-3 text-blue-500",title:"Telegram"},"telegram")),(null===(s=e.socials)||void 0===s?void 0:s.reddit)&&n.push((0,a.jsx)("div",{className:"h-3 w-3 bg-orange-500 rounded-full",title:"Reddit"},"reddit")),n})(t)})]}),(0,a.jsxs)("div",{className:"space-y-3 flex-1",children:[(0,a.jsx)("h3",{className:"-tracking-4 pt-0.5 font-sans text-xl/[1.375rem] font-semibold text-balance text-black md:text-2xl/[1.875rem] dark:text-white",children:t.firstName}),(0,a.jsxs)("div",{className:"space-y-2",children:[t.phone&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)(o.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"truncate",children:t.phone})]}),t.email&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)(i.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"truncate",children:t.email})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)(m.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"truncate",children:t.address})]}),t.ownsCrypto&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,a.jsx)(c.A,{className:"h-3 w-3 text-orange-500"}),(0,a.jsx)("span",{className:"text-orange-500 font-medium",children:"Crypto Owner"})]}),t.notes&&(0,a.jsxs)("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)(u,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-xs line-clamp-2",children:t.notes})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)(x.A,{className:"h-3 w-3 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:(r=t.createdAt,new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(r)))})]})]})})]})})}},7687:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var a=t(6522),s=t(4483);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[126,13,497,954,358],()=>r(728)),_N_E=e.O()}]);